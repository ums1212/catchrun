# 📐 화면 정의서 (수정 반영본)
## 앱명: 캐치런 (CatchRun)

---

## 1. 전체 화면 흐름도 (User Flow)

[앱 실행]
↓
[로그인 / 자동 로그인]
↓
[닉네임/아바타 설정(최초 1회)]
↓
[홈]
├─ 게임 만들기
│ ↓
│ [게임 설정]
│ ↓
│ [대기방]
│ ↓
│ [게임 플레이]
│ ↓
│ [결과 화면]
│
└─ 게임 참가
↓
[게임 번호/QR 입장]
↓
[대기방]


---

## 2. 화면 목록 요약

| 화면 ID | 화면명 |
|------|------|
| S-01 | 스플래시 |
| S-02 | 로그인 |
| S-03 | 닉네임/아바타 설정 |
| S-04 | 홈 |
| S-05 | 게임 만들기 |
| S-06 | 게임 참가 |
| S-07 | 대기방 |
| S-08 | 게임 플레이 |
| S-09 | 감옥 화면 |
| S-10 | 게임 결과 |

---

## 3. 화면별 상세 정의

---

## S-01. 스플래시 화면
- 앱 로고
- 로딩 인디케이터
- 자동 로그인 처리

---

## S-02. 로그인 화면
- Google 로그인 버튼

---

## S-03. 닉네임 / 아바타 설정 (최초 1회)
- 랜덤 닉네임 자동 생성
- 닉네임 수정 가능
- 기본 아바타 미리보기
- 시작하기 버튼

---

## S-04. 홈 화면
- 프로필(아바타 + 닉네임)
- 버튼
    - 게임 만들기
    - 게임 참가

---

## S-05. 게임 만들기 화면
- 게임 이름
- 제한 시간 설정
- 경찰 / 도둑 인원 비율
- QR / NFC 사용 방식 선택
- 게임 생성 버튼

### 자동 생성 정보
- 게임 번호: 9자리 랜덤 숫자
- 초대 코드: 6자리 랜덤 숫자

---

## S-06. 게임 참가 화면 (개선)
### 참가 방식 선택
- 게임 번호 + 초대 코드 입력
- **QR 코드로 입장하기 (추천)**

### QR 입장 로직
- 방장이 대기방에서 입장용 QR 표시
- 참가자가 스캔 시 즉시 대기방 입장

---

## S-07. 대기방 화면 (역할 배정 개선)

### 공통 정보
- 게임 번호
- 입장용 QR 코드 표시
- 참가자 리스트

### 역할 배정 로직
- 기본값: **자동 배정**
- 추가 기능:
    - 사용자가 `경찰 지원` 버튼 클릭 가능
    - 방장이 참가자를 **길게 눌러 역할 변경 가능**
- 역할 변경 시 실시간 반영

### 방장 전용
- 게임 시작 버튼

---

## S-08. 게임 플레이 화면 (핵심 수정)

### 공통 상단 정보
- 남은 시간
- 현재 역할(경찰 / 도둑)
- **현재 남은 도둑 수 / 전체 도둑 수 (경찰 전용 표시)**

### 중앙 상태 영역
- 자유 상태 / 수감 상태 표시

### 하단 주요 버튼
#### 경찰
- QR 스캔 / NFC 태그 버튼

#### 도둑
- **[내 QR 코드 보기] 버튼**
    - 누르면 전체 화면에 자신의 QR 코드 표시
    - 경찰 또는 구출자가 즉시 스캔 가능

### 이벤트 알림
- 진동 / 사운드
- 전체 화면 메시지

---

## S-09. 감옥 화면 (중요 수정)

### 진입 조건
- 도둑이 수감 상태가 되면 자동 진입

### 화면 구성
- **자신의 QR 코드가 전체 화면에 자동 표시**
- “감옥에서 대기 중입니다” 안내 문구
- 감옥 위치 이탈 시 경고 메시지

### 정책
- 수감 상태에서는 이동 불가
- QR/NFC 태그만 허용

---

## S-10. 게임 결과 화면 (강화)

### 결과 요약
- 승리 진영 표시 (경찰 / 도둑)
- 개인 점수 순위표

### 특별 칭호 시스템
- 🏅 가장 많이 잡은 경찰
- 🗝 가장 많이 구출한 도둑
- ⏱ 최장 생존 도둑
- ⭐ MVP

### 버튼
- 홈으로 돌아가기

---

## 4. 게임 이벤트 알림 (추가)

### 감옥 열쇠 사용 시
- 도둑이 감옥 열쇠(NFC) 사용하면:
    - **모든 경찰 화면에**
      ```
      🔔 열쇠 사용됨!
      도둑 탈출!
      ```
      전체 화면 팝업 + 사운드 + 진동 표시

---

## 5. UX / UI 공통 원칙
- 플레이 중 화면 주시 최소화
- QR 사용 시 즉시 전체 화면 표시
- 색상 구분
    - 경찰: 파랑
    - 도둑: 빨강
    - 수감: 회색
- 아이/청소년 기준 큰 버튼 & 큰 폰트

---

## 6. MVP 포함 / 제외 기능

### 포함
- QR 기반 체포 / 구출
- 내 QR 코드 표시
- 역할 수동 배정
- QR 입장
- 감옥 열쇠 이벤트 알림
- 결과 칭호 시스템

### 제외
- 경찰 스캐너 기능
- 랭킹 / 시즌 시스템
